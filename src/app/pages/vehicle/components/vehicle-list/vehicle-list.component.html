<div class="pt-4 p-2">
  <div class="p-4 border-round shadow-3 surface-card mx-auto w-full lg:w-8">
    <p-table #dt
             [value]="vehicles"
             [paginator]="true"
             [rows]="10"
             [globalFilterFields]="['name', 'manufacturer', 'model', 'year', 'type', 'fuelType', 'licensePlate']"
             [tableStyle]="{ 'min-width': '60rem' }"
             styleClass="p-datatable-sm"
    >
      <ng-template pTemplate="caption">
        <div class="flex">
          <form>
          <span class="w-full p-input-icon-left">
            <i class="pi pi-search"></i>
            <input class="w-full"
                   pInputText
                   placeholder="Global search"
                   type="text"
                   [formControl]="filterControl"
            />
          </span>
          </form>
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr class="text-sm">
          <th style="width:10%">Name</th>
          <th pSortableColumn="manufacturer" style="width:15%">Manufacturer
            <p-sortIcon field="manufacturer"></p-sortIcon>
          </th>
          <th pSortableColumn="model" style="width:10%">Model
            <p-sortIcon field="model"></p-sortIcon>
          </th>
          <th pSortableColumn="year" style="width:10%">Year
            <p-sortIcon field="year"></p-sortIcon>
          </th>
          <th pSortableColumn="type" style="width:10%">Type
            <p-sortIcon field="type"></p-sortIcon>
          </th>
          <th style="width:10%">Fuel type</th>
          <th style="width:10%">License Plate</th>
          <th style="width:5%">Status</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-vehicle>
        <tr class="text-sm">
          <td>{{ vehicle.name | vehicleNamePipe }}</td>
          <td>{{ vehicle.manufacturer }}</td>
          <td>{{ vehicle.model }}</td>
          <td>{{ vehicle.year }}</td>
          <td>{{ vehicle.type }}</td>
          <td>{{ vehicle.fuelType }}</td>
          <td>{{ vehicle.licensePlate }}</td>
          <td class="pl-4">
            <i
              [ngClass]="vehicle.active ? 'pi pi-car text-green-500 font-bold' : 'pi pi-stop-circle text-warn font-bold'"
              pTooltip="{{ vehicle.active ? 'Vehicle is currently in driving state.' : 'Vehicle is not in driving state.' }}"
              tooltipPosition="top"
              tooltipStyleClass="text-sm"
            ></i>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="8">
            <div class="flex flex-col align-items-center justify-content-center h-full bg-gray-100">
              <div class="flex align-items-center">
                <i class="pi pi-exclamation-circle text-blue-700 opacity-80 text-xl mr-1 font-bold"> </i>
                <div class="text-xl font-medium text-gray-700 opacity-70 mt-6 mb-6">No data</div>
              </div>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
